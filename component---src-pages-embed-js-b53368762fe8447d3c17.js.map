{"version":3,"file":"component---src-pages-embed-js-b53368762fe8447d3c17.js","mappings":"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","sources":["webpack://reentry-resource-guide/./node_modules/pym.js/dist/pym.v1.js","webpack://reentry-resource-guide/./node_modules/gatsby-plugin-google-gtag/index.js","webpack://reentry-resource-guide/./src/components/filter-description.js","webpack://reentry-resource-guide/./src/components/report-error-modal.js","webpack://reentry-resource-guide/./src/components/resource-row.js","webpack://reentry-resource-guide/./src/components/toast-message.js","webpack://reentry-resource-guide/./src/pages/embed.js"],"sourcesContent":["/*! pym.js - v1.3.2 - 2018-02-13 */\n\n/*\n* Pym.js is library that resizes an iframe based on the width of the parent and the resulting height of the child.\n* Check out the docs at http://blog.apps.npr.org/pym.js/ or the readme at README.md for usage.\n*/\n\n/** @module pym */\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(factory);\n  } else if (typeof module !== 'undefined' && module.exports) {\n    module.exports = factory();\n  } else {\n    window.pym = factory.call(this);\n  }\n})(function () {\n  var MESSAGE_DELIMITER = 'xPYMx';\n  var lib = {};\n  /**\n  * Create and dispatch a custom pym event\n  *\n  * @method _raiseCustomEvent\n  * @inner\n  *\n  * @param {String} eventName\n  */\n\n  var _raiseCustomEvent = function _raiseCustomEvent(eventName) {\n    var event = document.createEvent('Event');\n    event.initEvent('pym:' + eventName, true, true);\n    document.dispatchEvent(event);\n  };\n  /**\n  * Generic function for parsing URL params.\n  * Via http://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript\n  *\n  * @method _getParameterByName\n  * @inner\n  *\n  * @param {String} name The name of the paramter to get from the URL.\n  */\n\n\n  var _getParameterByName = function _getParameterByName(name) {\n    var regex = new RegExp(\"[\\\\?&]\" + name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]') + '=([^&#]*)');\n    var results = regex.exec(location.search);\n\n    if (results === null) {\n      return '';\n    }\n\n    return decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n  };\n  /**\n   * Check the message to make sure it comes from an acceptable xdomain.\n   * Defaults to '*' but can be overriden in config.\n   *\n   * @method _isSafeMessage\n   * @inner\n   *\n   * @param {Event} e The message event.\n   * @param {Object} settings Configuration.\n   */\n\n\n  var _isSafeMessage = function _isSafeMessage(e, settings) {\n    if (settings.xdomain !== '*') {\n      // If origin doesn't match our xdomain, return.\n      if (!e.origin.match(new RegExp(settings.xdomain + '$'))) {\n        return;\n      }\n    } // Ignore events that do not carry string data #151\n\n\n    if (typeof e.data !== 'string') {\n      return;\n    }\n\n    return true;\n  };\n\n  var _isSafeUrl = function _isSafeUrl(url) {\n    // Adapted from angular 2 url sanitizer\n    var SAFE_URL_PATTERN = /^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/gi;\n\n    if (!url.match(SAFE_URL_PATTERN)) {\n      return;\n    }\n\n    return true;\n  };\n  /**\n   * Construct a message to send between frames.\n   *\n   * NB: We use string-building here because JSON message passing is\n   * not supported in all browsers.\n   *\n   * @method _makeMessage\n   * @inner\n   *\n   * @param {String} id The unique id of the message recipient.\n   * @param {String} messageType The type of message to send.\n   * @param {String} message The message to send.\n   */\n\n\n  var _makeMessage = function _makeMessage(id, messageType, message) {\n    var bits = ['pym', id, messageType, message];\n    return bits.join(MESSAGE_DELIMITER);\n  };\n  /**\n   * Construct a regex to validate and parse messages.\n   *\n   * @method _makeMessageRegex\n   * @inner\n   *\n   * @param {String} id The unique id of the message recipient.\n   */\n\n\n  var _makeMessageRegex = function _makeMessageRegex(id) {\n    var bits = ['pym', id, '(\\\\S+)', '(.*)'];\n    return new RegExp('^' + bits.join(MESSAGE_DELIMITER) + '$');\n  };\n  /**\n  * Underscore implementation of getNow\n  *\n  * @method _getNow\n  * @inner\n  *\n  */\n\n\n  var _getNow = Date.now || function () {\n    return new Date().getTime();\n  };\n  /**\n  * Underscore implementation of throttle\n  *\n  * @method _throttle\n  * @inner\n  *\n  * @param {function} func Throttled function\n  * @param {number} wait Throttle wait time\n  * @param {object} options Throttle settings\n  */\n\n\n  var _throttle = function _throttle(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n\n    if (!options) {\n      options = {};\n    }\n\n    var later = function later() {\n      previous = options.leading === false ? 0 : _getNow();\n      timeout = null;\n      result = func.apply(context, args);\n\n      if (!timeout) {\n        context = args = null;\n      }\n    };\n\n    return function () {\n      var now = _getNow();\n\n      if (!previous && options.leading === false) {\n        previous = now;\n      }\n\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n\n        previous = now;\n        result = func.apply(context, args);\n\n        if (!timeout) {\n          context = args = null;\n        }\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n\n      return result;\n    };\n  };\n  /**\n   * Clean autoInit Instances: those that point to contentless iframes\n   * @method _cleanAutoInitInstances\n   * @inner\n   */\n\n\n  var _cleanAutoInitInstances = function _cleanAutoInitInstances() {\n    var length = lib.autoInitInstances.length; // Loop backwards to avoid index issues\n\n    for (var idx = length - 1; idx >= 0; idx--) {\n      var instance = lib.autoInitInstances[idx]; // If instance has been removed or is contentless then remove it\n\n      if (instance.el.getElementsByTagName('iframe').length && instance.el.getElementsByTagName('iframe')[0].contentWindow) {\n        continue;\n      } else {\n        // Remove the reference to the removed or orphan instance\n        lib.autoInitInstances.splice(idx, 1);\n      }\n    }\n  };\n  /**\n   * Store auto initialized Pym instances for further reference\n   * @name module:pym#autoInitInstances\n   * @type Array\n   * @default []\n   */\n\n\n  lib.autoInitInstances = [];\n  /**\n   * Initialize Pym for elements on page that have data-pym attributes.\n   * Expose autoinit in case we need to call it from the outside\n   * @instance\n   * @method autoInit\n   * @param {Boolean} doNotRaiseEvents flag to avoid sending custom events\n   */\n\n  lib.autoInit = function (doNotRaiseEvents) {\n    var elements = document.querySelectorAll('[data-pym-src]:not([data-pym-auto-initialized])');\n    var length = elements.length; // Clean stored instances in case needed\n\n    _cleanAutoInitInstances();\n\n    for (var idx = 0; idx < length; ++idx) {\n      var element = elements[idx];\n      /*\n      * Mark automatically-initialized elements so they are not\n      * re-initialized if the user includes pym.js more than once in the\n      * same document.\n      */\n\n      element.setAttribute('data-pym-auto-initialized', ''); // Ensure elements have an id\n\n      if (element.id === '') {\n        element.id = 'pym-' + idx + \"-\" + Math.random().toString(36).substr(2, 5);\n      }\n\n      var src = element.getAttribute('data-pym-src'); // List of data attributes to configure the component\n      // structure: {'attribute name': 'type'}\n\n      var settings = {\n        'xdomain': 'string',\n        'title': 'string',\n        'name': 'string',\n        'id': 'string',\n        'sandbox': 'string',\n        'allowfullscreen': 'boolean',\n        'parenturlparam': 'string',\n        'parenturlvalue': 'string',\n        'optionalparams': 'boolean',\n        'trackscroll': 'boolean',\n        'scrollwait': 'number'\n      };\n      var config = {};\n\n      for (var attribute in settings) {\n        // via https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttribute#Notes\n        if (element.getAttribute('data-pym-' + attribute) !== null) {\n          switch (settings[attribute]) {\n            case 'boolean':\n              config[attribute] = !(element.getAttribute('data-pym-' + attribute) === 'false'); // jshint ignore:line\n\n              break;\n\n            case 'string':\n              config[attribute] = element.getAttribute('data-pym-' + attribute);\n              break;\n\n            case 'number':\n              var n = Number(element.getAttribute('data-pym-' + attribute));\n\n              if (!isNaN(n)) {\n                config[attribute] = n;\n              }\n\n              break;\n\n            default:\n              console.err('unrecognized attribute type');\n          }\n        }\n      } // Store references to autoinitialized pym instances\n\n\n      var parent = new lib.Parent(element.id, src, config);\n      lib.autoInitInstances.push(parent);\n    } // Fire customEvent\n\n\n    if (!doNotRaiseEvents) {\n      _raiseCustomEvent(\"pym-initialized\");\n    } // Return stored autoinitalized pym instances\n\n\n    return lib.autoInitInstances;\n  };\n  /**\n   * The Parent half of a response iframe.\n   *\n   * @memberof module:pym\n   * @class Parent\n   * @param {String} id The id of the div into which the iframe will be rendered. sets {@link module:pym.Parent~id}\n   * @param {String} url The url of the iframe source. sets {@link module:pym.Parent~url}\n   * @param {Object} [config] Configuration for the parent instance. sets {@link module:pym.Parent~settings}\n   * @param {string} [config.xdomain='*'] - xdomain to validate messages received\n   * @param {string} [config.title] - if passed it will be assigned to the iframe title attribute\n   * @param {string} [config.name] - if passed it will be assigned to the iframe name attribute\n   * @param {string} [config.id] - if passed it will be assigned to the iframe id attribute\n   * @param {boolean} [config.allowfullscreen] - if passed and different than false it will be assigned to the iframe allowfullscreen attribute\n   * @param {string} [config.sandbox] - if passed it will be assigned to the iframe sandbox attribute (we do not validate the syntax so be careful!!)\n   * @param {string} [config.parenturlparam] - if passed it will be override the default parentUrl query string parameter name passed to the iframe src\n   * @param {string} [config.parenturlvalue] - if passed it will be override the default parentUrl query string parameter value passed to the iframe src\n   * @param {string} [config.optionalparams] - if passed and different than false it will strip the querystring params parentUrl and parentTitle passed to the iframe src\n   * @param {boolean} [config.trackscroll] - if passed it will activate scroll tracking on the parent\n   * @param {number} [config.scrollwait] - if passed it will set the throttle wait in order to fire scroll messaging. Defaults to 100 ms.\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe iFrame}\n   */\n\n\n  lib.Parent = function (id, url, config) {\n    /**\n     * The id of the container element\n     *\n     * @memberof module:pym.Parent\n     * @member {string} id\n     * @inner\n     */\n    this.id = id;\n    /**\n     * The url that will be set as the iframe's src\n     *\n     * @memberof module:pym.Parent\n     * @member {String} url\n     * @inner\n     */\n\n    this.url = url;\n    /**\n     * The container DOM object\n     *\n     * @memberof module:pym.Parent\n     * @member {HTMLElement} el\n     * @inner\n     */\n\n    this.el = document.getElementById(id);\n    /**\n     * The contained child iframe\n     *\n     * @memberof module:pym.Parent\n     * @member {HTMLElement} iframe\n     * @inner\n     * @default null\n     */\n\n    this.iframe = null;\n    /**\n     * The parent instance settings, updated by the values passed in the config object\n     *\n     * @memberof module:pym.Parent\n     * @member {Object} settings\n     * @inner\n     */\n\n    this.settings = {\n      xdomain: '*',\n      optionalparams: true,\n      parenturlparam: 'parentUrl',\n      parenturlvalue: window.location.href,\n      trackscroll: false,\n      scrollwait: 100\n    };\n    /**\n     * RegularExpression to validate the received messages\n     *\n     * @memberof module:pym.Parent\n     * @member {String} messageRegex\n     * @inner\n     */\n\n    this.messageRegex = _makeMessageRegex(this.id);\n    /**\n     * Stores the registered messageHandlers for each messageType\n     *\n     * @memberof module:pym.Parent\n     * @member {Object} messageHandlers\n     * @inner\n     */\n\n    this.messageHandlers = {}; // ensure a config object\n\n    config = config || {};\n    /**\n     * Construct the iframe.\n     *\n     * @memberof module:pym.Parent\n     * @method _constructIframe\n     * @inner\n     */\n\n    this._constructIframe = function () {\n      // Calculate the width of this element.\n      var width = this.el.offsetWidth.toString(); // Create an iframe element attached to the document.\n\n      this.iframe = document.createElement('iframe'); // Save fragment id\n\n      var hash = '';\n      var hashIndex = this.url.indexOf('#');\n\n      if (hashIndex > -1) {\n        hash = this.url.substring(hashIndex, this.url.length);\n        this.url = this.url.substring(0, hashIndex);\n      } // If the URL contains querystring bits, use them.\n      // Otherwise, just create a set of valid params.\n\n\n      if (this.url.indexOf('?') < 0) {\n        this.url += '?';\n      } else {\n        this.url += '&';\n      } // Append the initial width as a querystring parameter\n      // and optional params if configured to do so\n\n\n      this.iframe.src = this.url + 'initialWidth=' + width + '&childId=' + this.id;\n\n      if (this.settings.optionalparams) {\n        this.iframe.src += '&parentTitle=' + encodeURIComponent(document.title);\n        this.iframe.src += '&' + this.settings.parenturlparam + '=' + encodeURIComponent(this.settings.parenturlvalue);\n      }\n\n      this.iframe.src += hash; // Set some attributes to this proto-iframe.\n\n      this.iframe.setAttribute('width', '100%');\n      this.iframe.setAttribute('scrolling', 'no');\n      this.iframe.setAttribute('marginheight', '0');\n      this.iframe.setAttribute('frameborder', '0');\n\n      if (this.settings.title) {\n        this.iframe.setAttribute('title', this.settings.title);\n      }\n\n      if (this.settings.allowfullscreen !== undefined && this.settings.allowfullscreen !== false) {\n        this.iframe.setAttribute('allowfullscreen', '');\n      }\n\n      if (this.settings.sandbox !== undefined && typeof this.settings.sandbox === 'string') {\n        this.iframe.setAttribute('sandbox', this.settings.sandbox);\n      }\n\n      if (this.settings.id) {\n        if (!document.getElementById(this.settings.id)) {\n          this.iframe.setAttribute('id', this.settings.id);\n        }\n      }\n\n      if (this.settings.name) {\n        this.iframe.setAttribute('name', this.settings.name);\n      } // Replace the child content if needed\n      // (some CMSs might strip out empty elements)\n\n\n      while (this.el.firstChild) {\n        this.el.removeChild(this.el.firstChild);\n      } // Append the iframe to our element.\n\n\n      this.el.appendChild(this.iframe); // Add an event listener that will handle redrawing the child on resize.\n\n      window.addEventListener('resize', this._onResize); // Add an event listener that will send the child the viewport.\n\n      if (this.settings.trackscroll) {\n        window.addEventListener('scroll', this._throttleOnScroll);\n      }\n    };\n    /**\n     * Send width on resize.\n     *\n     * @memberof module:pym.Parent\n     * @method _onResize\n     * @inner\n     */\n\n\n    this._onResize = function () {\n      this.sendWidth();\n\n      if (this.settings.trackscroll) {\n        this.sendViewportAndIFramePosition();\n      }\n    }.bind(this);\n    /**\n     * Send viewport and iframe info on scroll.\n     *\n     * @memberof module:pym.Parent\n     * @method _onScroll\n     * @inner\n     */\n\n\n    this._onScroll = function () {\n      this.sendViewportAndIFramePosition();\n    }.bind(this);\n    /**\n     * Fire all event handlers for a given message type.\n     *\n     * @memberof module:pym.Parent\n     * @method _fire\n     * @inner\n     *\n     * @param {String} messageType The type of message.\n     * @param {String} message The message data.\n     */\n\n\n    this._fire = function (messageType, message) {\n      if (messageType in this.messageHandlers) {\n        for (var i = 0; i < this.messageHandlers[messageType].length; i++) {\n          this.messageHandlers[messageType][i].call(this, message);\n        }\n      }\n    };\n    /**\n     * Remove this parent from the page and unbind it's event handlers.\n     *\n     * @memberof module:pym.Parent\n     * @method remove\n     * @instance\n     */\n\n\n    this.remove = function () {\n      window.removeEventListener('message', this._processMessage);\n      window.removeEventListener('resize', this._onResize);\n      this.el.removeChild(this.iframe); // _cleanAutoInitInstances in case this parent was autoInitialized\n\n      _cleanAutoInitInstances();\n    };\n    /**\n     * Process a new message from the child.\n     *\n     * @memberof module:pym.Parent\n     * @method _processMessage\n     * @inner\n     *\n     * @param {Event} e A message event.\n     */\n\n\n    this._processMessage = function (e) {\n      // First, punt if this isn't from an acceptable xdomain.\n      if (!_isSafeMessage(e, this.settings)) {\n        return;\n      } // Discard object messages, we only care about strings\n\n\n      if (typeof e.data !== 'string') {\n        return;\n      } // Grab the message from the child and parse it.\n\n\n      var match = e.data.match(this.messageRegex); // If there's no match or too many matches in the message, punt.\n\n      if (!match || match.length !== 3) {\n        return false;\n      }\n\n      var messageType = match[1];\n      var message = match[2];\n\n      this._fire(messageType, message);\n    }.bind(this);\n    /**\n     * Resize iframe in response to new height message from child.\n     *\n     * @memberof module:pym.Parent\n     * @method _onHeightMessage\n     * @inner\n     *\n     * @param {String} message The new height.\n     */\n\n\n    this._onHeightMessage = function (message) {\n      /*\n       * Handle parent height message from child.\n       */\n      var height = parseInt(message);\n      this.iframe.setAttribute('height', height + 'px');\n    };\n    /**\n     * Navigate parent to a new url.\n     *\n     * @memberof module:pym.Parent\n     * @method _onNavigateToMessage\n     * @inner\n     *\n     * @param {String} message The url to navigate to.\n     */\n\n\n    this._onNavigateToMessage = function (message) {\n      /*\n       * Handle parent scroll message from child.\n       */\n      if (!_isSafeUrl(message)) {\n        return;\n      }\n\n      document.location.href = message;\n    };\n    /**\n     * Scroll parent to a given child position.\n     *\n     * @memberof module:pym.Parent\n     * @method _onScrollToChildPosMessage\n     * @inner\n     *\n     * @param {String} message The offset inside the child page.\n     */\n\n\n    this._onScrollToChildPosMessage = function (message) {\n      // Get the child container position using getBoundingClientRect + pageYOffset\n      // via https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect\n      var iframePos = document.getElementById(this.id).getBoundingClientRect().top + window.pageYOffset;\n      var totalOffset = iframePos + parseInt(message);\n      window.scrollTo(0, totalOffset);\n    };\n    /**\n     * Bind a callback to a given messageType from the child.\n     *\n     * Reserved message names are: \"height\", \"scrollTo\" and \"navigateTo\".\n     *\n     * @memberof module:pym.Parent\n     * @method onMessage\n     * @instance\n     *\n     * @param {String} messageType The type of message being listened for.\n     * @param {module:pym.Parent~onMessageCallback} callback The callback to invoke when a message of the given type is received.\n     */\n\n\n    this.onMessage = function (messageType, callback) {\n      if (!(messageType in this.messageHandlers)) {\n        this.messageHandlers[messageType] = [];\n      }\n\n      this.messageHandlers[messageType].push(callback);\n    };\n    /**\n     * @callback module:pym.Parent~onMessageCallback\n     * @param {String} message The message data.\n     */\n\n    /**\n     * Send a message to the the child.\n     *\n     * @memberof module:pym.Parent\n     * @method sendMessage\n     * @instance\n     *\n     * @param {String} messageType The type of message to send.\n     * @param {String} message The message data to send.\n     */\n\n\n    this.sendMessage = function (messageType, message) {\n      // When used alongside with pjax some references are lost\n      if (this.el.getElementsByTagName('iframe').length) {\n        if (this.el.getElementsByTagName('iframe')[0].contentWindow) {\n          this.el.getElementsByTagName('iframe')[0].contentWindow.postMessage(_makeMessage(this.id, messageType, message), '*');\n        } else {\n          // Contentless child detected remove listeners and iframe\n          this.remove();\n        }\n      }\n    };\n    /**\n     * Transmit the current iframe width to the child.\n     *\n     * You shouldn't need to call this directly.\n     *\n     * @memberof module:pym.Parent\n     * @method sendWidth\n     * @instance\n     */\n\n\n    this.sendWidth = function () {\n      var width = this.el.offsetWidth.toString();\n      this.sendMessage('width', width);\n    };\n    /**\n     * Transmit the current viewport and iframe position to the child.\n     * Sends viewport width, viewport height\n     * and iframe bounding rect top-left-bottom-right\n     * all separated by spaces\n     *\n     * You shouldn't need to call this directly.\n     *\n     * @memberof module:pym.Parent\n     * @method sendViewportAndIFramePosition\n     * @instance\n     */\n\n\n    this.sendViewportAndIFramePosition = function () {\n      var iframeRect = this.iframe.getBoundingClientRect();\n      var vWidth = window.innerWidth || document.documentElement.clientWidth;\n      var vHeight = window.innerHeight || document.documentElement.clientHeight;\n      var payload = vWidth + ' ' + vHeight;\n      payload += ' ' + iframeRect.top + ' ' + iframeRect.left;\n      payload += ' ' + iframeRect.bottom + ' ' + iframeRect.right;\n      this.sendMessage('viewport-iframe-position', payload);\n    }; // Add any overrides to settings coming from config.\n\n\n    for (var key in config) {\n      this.settings[key] = config[key];\n    }\n    /**\n     * Throttled scroll function.\n     *\n     * @memberof module:pym.Parent\n     * @method _throttleOnScroll\n     * @inner\n     */\n\n\n    this._throttleOnScroll = _throttle(this._onScroll.bind(this), this.settings.scrollwait); // Bind required message handlers\n\n    this.onMessage('height', this._onHeightMessage);\n    this.onMessage('navigateTo', this._onNavigateToMessage);\n    this.onMessage('scrollToChildPos', this._onScrollToChildPosMessage);\n    this.onMessage('parentPositionInfo', this.sendViewportAndIFramePosition); // Add a listener for processing messages from the child.\n\n    window.addEventListener('message', this._processMessage, false); // Construct the iframe in the container element.\n\n    this._constructIframe();\n\n    return this;\n  };\n  /**\n   * The Child half of a responsive iframe.\n   *\n   * @memberof module:pym\n   * @class Child\n   * @param {Object} [config] Configuration for the child instance. sets {@link module:pym.Child~settings}\n   * @param {function} [config.renderCallback=null] Callback invoked after receiving a resize event from the parent, sets {@link module:pym.Child#settings.renderCallback}\n   * @param {string} [config.xdomain='*'] - xdomain to validate messages received\n   * @param {number} [config.polling=0] - polling frequency in milliseconds to send height to parent\n   * @param {number} [config.id] - parent container id used when navigating the child iframe to a new page but we want to keep it responsive.\n   * @param {string} [config.parenturlparam] - if passed it will be override the default parentUrl query string parameter name expected on the iframe src\n   */\n\n\n  lib.Child = function (config) {\n    /**\n     * The initial width of the parent page\n     *\n     * @memberof module:pym.Child\n     * @member {string} parentWidth\n     * @inner\n     */\n    this.parentWidth = null;\n    /**\n     * The id of the parent container\n     *\n     * @memberof module:pym.Child\n     * @member {String} id\n     * @inner\n     */\n\n    this.id = null;\n    /**\n     * The title of the parent page from document.title.\n     *\n     * @memberof module:pym.Child\n     * @member {String} parentTitle\n     * @inner\n     */\n\n    this.parentTitle = null;\n    /**\n     * The URL of the parent page from window.location.href.\n     *\n     * @memberof module:pym.Child\n     * @member {String} parentUrl\n     * @inner\n     */\n\n    this.parentUrl = null;\n    /**\n     * The settings for the child instance. Can be overriden by passing a config object to the child constructor\n     * i.e.: var pymChild = new pym.Child({renderCallback: render, xdomain: \"\\\\*\\.npr\\.org\"})\n     *\n     * @memberof module:pym.Child.settings\n     * @member {Object} settings - default settings for the child instance\n     * @inner\n     */\n\n    this.settings = {\n      renderCallback: null,\n      xdomain: '*',\n      polling: 0,\n      parenturlparam: 'parentUrl'\n    };\n    /**\n     * The timerId in order to be able to stop when polling is enabled\n     *\n     * @memberof module:pym.Child\n     * @member {String} timerId\n     * @inner\n     */\n\n    this.timerId = null;\n    /**\n     * RegularExpression to validate the received messages\n     *\n     * @memberof module:pym.Child\n     * @member {String} messageRegex\n     * @inner\n     */\n\n    this.messageRegex = null;\n    /**\n     * Stores the registered messageHandlers for each messageType\n     *\n     * @memberof module:pym.Child\n     * @member {Object} messageHandlers\n     * @inner\n     */\n\n    this.messageHandlers = {}; // Ensure a config object\n\n    config = config || {};\n    /**\n     * Bind a callback to a given messageType from the child.\n     *\n     * Reserved message names are: \"width\".\n     *\n     * @memberof module:pym.Child\n     * @method onMessage\n     * @instance\n     *\n     * @param {String} messageType The type of message being listened for.\n     * @param {module:pym.Child~onMessageCallback} callback The callback to invoke when a message of the given type is received.\n     */\n\n    this.onMessage = function (messageType, callback) {\n      if (!(messageType in this.messageHandlers)) {\n        this.messageHandlers[messageType] = [];\n      }\n\n      this.messageHandlers[messageType].push(callback);\n    };\n    /**\n     * @callback module:pym.Child~onMessageCallback\n     * @param {String} message The message data.\n     */\n\n    /**\n     * Fire all event handlers for a given message type.\n     *\n     * @memberof module:pym.Child\n     * @method _fire\n     * @inner\n     *\n     * @param {String} messageType The type of message.\n     * @param {String} message The message data.\n     */\n\n\n    this._fire = function (messageType, message) {\n      /*\n       * Fire all event handlers for a given message type.\n       */\n      if (messageType in this.messageHandlers) {\n        for (var i = 0; i < this.messageHandlers[messageType].length; i++) {\n          this.messageHandlers[messageType][i].call(this, message);\n        }\n      }\n    };\n    /**\n     * Process a new message from the parent.\n     *\n     * @memberof module:pym.Child\n     * @method _processMessage\n     * @inner\n     *\n     * @param {Event} e A message event.\n     */\n\n\n    this._processMessage = function (e) {\n      /*\n      * Process a new message from parent frame.\n      */\n      // First, punt if this isn't from an acceptable xdomain.\n      if (!_isSafeMessage(e, this.settings)) {\n        return;\n      } // Discard object messages, we only care about strings\n\n\n      if (typeof e.data !== 'string') {\n        return;\n      } // Get the message from the parent.\n\n\n      var match = e.data.match(this.messageRegex); // If there's no match or it's a bad format, punt.\n\n      if (!match || match.length !== 3) {\n        return;\n      }\n\n      var messageType = match[1];\n      var message = match[2];\n\n      this._fire(messageType, message);\n    }.bind(this);\n    /**\n     * Resize iframe in response to new width message from parent.\n     *\n     * @memberof module:pym.Child\n     * @method _onWidthMessage\n     * @inner\n     *\n     * @param {String} message The new width.\n     */\n\n\n    this._onWidthMessage = function (message) {\n      /*\n       * Handle width message from the child.\n       */\n      var width = parseInt(message); // Change the width if it's different.\n\n      if (width !== this.parentWidth) {\n        this.parentWidth = width; // Call the callback function if it exists.\n\n        if (this.settings.renderCallback) {\n          this.settings.renderCallback(width);\n        } // Send the height back to the parent.\n\n\n        this.sendHeight();\n      }\n    };\n    /**\n     * Send a message to the the Parent.\n     *\n     * @memberof module:pym.Child\n     * @method sendMessage\n     * @instance\n     *\n     * @param {String} messageType The type of message to send.\n     * @param {String} message The message data to send.\n     */\n\n\n    this.sendMessage = function (messageType, message) {\n      /*\n       * Send a message to the parent.\n       */\n      window.parent.postMessage(_makeMessage(this.id, messageType, message), '*');\n    };\n    /**\n     * Transmit the current iframe height to the parent.\n     *\n     * Call this directly in cases where you manually alter the height of the iframe contents.\n     *\n     * @memberof module:pym.Child\n     * @method sendHeight\n     * @instance\n     */\n\n\n    this.sendHeight = function () {\n      // Get the child's height.\n      var height = document.getElementsByTagName('body')[0].offsetHeight.toString(); // Send the height to the parent.\n\n      this.sendMessage('height', height);\n      return height;\n    }.bind(this);\n    /**\n     * Ask parent to send the current viewport and iframe position information\n     *\n     * @memberof module:pym.Child\n     * @method sendHeight\n     * @instance\n     */\n\n\n    this.getParentPositionInfo = function () {\n      // Send the height to the parent.\n      this.sendMessage('parentPositionInfo');\n    };\n    /**\n     * Scroll parent to a given element id.\n     *\n     * @memberof module:pym.Child\n     * @method scrollParentTo\n     * @instance\n     *\n     * @param {String} hash The id of the element to scroll to.\n     */\n\n\n    this.scrollParentTo = function (hash) {\n      this.sendMessage('navigateTo', '#' + hash);\n    };\n    /**\n     * Navigate parent to a given url.\n     *\n     * @memberof module:pym.Child\n     * @method navigateParentTo\n     * @instance\n     *\n     * @param {String} url The url to navigate to.\n     */\n\n\n    this.navigateParentTo = function (url) {\n      this.sendMessage('navigateTo', url);\n    };\n    /**\n     * Scroll parent to a given child element id.\n     *\n     * @memberof module:pym.Child\n     * @method scrollParentToChildEl\n     * @instance\n     *\n     * @param {String} id The id of the child element to scroll to.\n     */\n\n\n    this.scrollParentToChildEl = function (id) {\n      // Get the child element position using getBoundingClientRect + pageYOffset\n      // via https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect\n      var topPos = document.getElementById(id).getBoundingClientRect().top + window.pageYOffset;\n      this.scrollParentToChildPos(topPos);\n    };\n    /**\n     * Scroll parent to a particular child offset.\n     *\n     * @memberof module:pym.Child\n     * @method scrollParentToChildPos\n     * @instance\n     *\n     * @param {Number} pos The offset of the child element to scroll to.\n     */\n\n\n    this.scrollParentToChildPos = function (pos) {\n      this.sendMessage('scrollToChildPos', pos.toString());\n    };\n    /**\n     * Mark Whether the child is embedded or not\n     * executes a callback in case it was passed to the config\n     *\n     * @memberof module:pym.Child\n     * @method _markWhetherEmbedded\n     * @inner\n     *\n     * @param {module:pym.Child~onMarkedEmbeddedStatus} The callback to execute after determining whether embedded or not.\n     */\n\n\n    var _markWhetherEmbedded = function _markWhetherEmbedded(onMarkedEmbeddedStatus) {\n      var htmlElement = document.getElementsByTagName('html')[0],\n          newClassForHtml,\n          originalHtmlClasses = htmlElement.className;\n\n      try {\n        if (window.self !== window.top) {\n          newClassForHtml = \"embedded\";\n        } else {\n          newClassForHtml = \"not-embedded\";\n        }\n      } catch (e) {\n        newClassForHtml = \"embedded\";\n      }\n\n      if (originalHtmlClasses.indexOf(newClassForHtml) < 0) {\n        htmlElement.className = originalHtmlClasses ? originalHtmlClasses + ' ' + newClassForHtml : newClassForHtml;\n\n        if (onMarkedEmbeddedStatus) {\n          onMarkedEmbeddedStatus(newClassForHtml);\n        }\n\n        _raiseCustomEvent(\"marked-embedded\");\n      }\n    };\n    /**\n     * @callback module:pym.Child~onMarkedEmbeddedStatus\n     * @param {String} classname \"embedded\" or \"not-embedded\".\n     */\n\n    /**\n     * Unbind child event handlers and timers.\n     *\n     * @memberof module:pym.Child\n     * @method remove\n     * @instance\n     */\n\n\n    this.remove = function () {\n      window.removeEventListener('message', this._processMessage);\n\n      if (this.timerId) {\n        clearInterval(this.timerId);\n      }\n    }; // Initialize settings with overrides.\n\n\n    for (var key in config) {\n      this.settings[key] = config[key];\n    } // Identify what ID the parent knows this child as.\n\n\n    this.id = _getParameterByName('childId') || config.id;\n    this.messageRegex = new RegExp('^pym' + MESSAGE_DELIMITER + this.id + MESSAGE_DELIMITER + '(\\\\S+)' + MESSAGE_DELIMITER + '(.*)$'); // Get the initial width from a URL parameter.\n\n    var width = parseInt(_getParameterByName('initialWidth')); // Get the url of the parent frame\n\n    this.parentUrl = _getParameterByName(this.settings.parenturlparam); // Get the title of the parent frame\n\n    this.parentTitle = _getParameterByName('parentTitle'); // Bind the required message handlers\n\n    this.onMessage('width', this._onWidthMessage); // Set up a listener to handle any incoming messages.\n\n    window.addEventListener('message', this._processMessage, false); // If there's a callback function, call it.\n\n    if (this.settings.renderCallback) {\n      this.settings.renderCallback(width);\n    } // Send the initial height to the parent.\n\n\n    this.sendHeight(); // If we're configured to poll, create a setInterval to handle that.\n\n    if (this.settings.polling) {\n      this.timerId = window.setInterval(this.sendHeight, this.settings.polling);\n    }\n\n    _markWhetherEmbedded(config.onMarkedEmbeddedStatus);\n\n    return this;\n  }; // Initialize elements with pym data attributes\n  // if we are not in server configuration\n\n\n  if (typeof document !== \"undefined\") {\n    lib.autoInit(true);\n  }\n\n  return lib;\n});","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.OutboundLink = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _excluded = [\"children\"];\n\nvar OutboundLink = /*#__PURE__*/_react.default.forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      props = (0, _objectWithoutPropertiesLoose2.default)(_ref, _excluded);\n  return /*#__PURE__*/_react.default.createElement(\"a\", (0, _extends2.default)({\n    ref: ref\n  }, props, {\n    onClick: function onClick(e) {\n      if (typeof props.onClick === \"function\") {\n        props.onClick(e);\n      }\n\n      var redirect = true;\n\n      if (e.button !== 0 || e.altKey || e.ctrlKey || e.metaKey || e.shiftKey || e.defaultPrevented) {\n        redirect = false;\n      }\n\n      if (props.target && props.target.toLowerCase() !== \"_self\") {\n        redirect = false;\n      }\n\n      if (window.gtag) {\n        window.gtag(\"event\", \"click\", {\n          event_category: \"outbound\",\n          event_label: props.href,\n          transport_type: redirect ? \"beacon\" : \"\",\n          event_callback: function event_callback() {\n            if (redirect) {\n              document.location = props.href;\n            }\n          }\n        });\n      } else {\n        if (redirect) {\n          document.location = props.href;\n        }\n      }\n\n      return false;\n    }\n  }), children);\n});\n\nexports.OutboundLink = OutboundLink;\nOutboundLink.propTypes = {\n  href: _propTypes.default.string,\n  target: _propTypes.default.string,\n  onClick: _propTypes.default.func\n};","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { useIntl } from \"gatsby-plugin-react-intl\"\n\nimport { rtlLanguages } from \"../constants\"\n\nconst FilterDescription = ({ filters, count }) => {\n  const intl = useIntl()\n  const filterText = Object.entries(filters)\n    .filter(([key, value]) => key !== `coords`)\n    .map(([key, value]) => {\n      if (key === `search`) {\n        return `\"${value}\"`\n      } else {\n        return (Array.isArray(value) ? value : [value]).map((filter) =>\n          intl.formatMessage({ id: filter })\n        )\n      }\n    })\n    .reduce((acc, val) => acc.concat(val), [])\n    .join(\", \")\n\n  const params = {\n    filters: filterText,\n    count: rtlLanguages.includes(intl.locale)\n      ? count.toLocaleString(`en`)\n      : intl.formatNumber(count),\n  }\n\n  let messageId = `filter-description-filters`\n  if (filterText === ``) {\n    messageId = `filter-description`\n  } else if (count === 0) {\n    messageId = `filter-description-no-results`\n  } else if (count === 1) {\n    messageId = `filter-description-one-result`\n  }\n  return (\n    <div className=\"filter-description\">\n      <h2 aria-live=\"polite\">\n        {intl.formatMessage({ id: messageId }, params)}\n      </h2>\n    </div>\n  )\n}\n\nFilterDescription.propTypes = {\n  filters: PropTypes.object.isRequired,\n  count: PropTypes.number.isRequired,\n}\n\nexport default FilterDescription\n","import React, { useEffect, useRef } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { useIntl } from \"gatsby-plugin-react-intl\"\n\nconst ReportErrorModal = ({ reportErrorPath, id, onSuccess, onClose }) => {\n  const intl = useIntl()\n  const modalRef = useRef()\n  const textInput = useRef()\n  const reportResourceError = (e) => {\n    e.preventDefault()\n    fetch(`${reportErrorPath}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        Resource: [id],\n        Notes: textInput.current.value,\n      }),\n    })\n      .then((res) => res.json())\n      .then(() => {\n        onClose()\n        onSuccess()\n      })\n      .catch((err) => {\n        onClose()\n        console.error(err)\n      })\n  }\n\n  useEffect(() => {\n    const escKeyListener = (e) => {\n      if (e.keyCode === 27) {\n        onClose()\n      }\n    }\n    const docClickListener = (e) => {\n      if (modalRef && !modalRef.current.contains(e.target)) {\n        onClose()\n      }\n    }\n    document.addEventListener(\"keyup\", escKeyListener)\n    document.addEventListener(\"click\", docClickListener)\n\n    return function cleanup() {\n      document.removeEventListener(\"keyup\", escKeyListener)\n      document.removeEventListener(\"click\", docClickListener)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <div className=\"modal is-active\">\n      <div className=\"modal-background\" />\n      <div className=\"modal-card\" ref={modalRef}>\n        <form\n          id=\"report-error-form\"\n          name=\"report-error\"\n          action=\"\"\n          onSubmit={reportResourceError}\n        >\n          <header className=\"modal-card-head\">\n            <h2 className=\"modal-card-title\">\n              {intl.formatMessage({ id: \"flag-resource-label\" })}\n            </h2>\n            <button\n              type=\"button\"\n              className=\"delete is-medium\"\n              aria-label={intl.formatMessage({ id: \"close\" })}\n              onClick={onClose}\n            />\n          </header>\n          <section className=\"modal-card-body\">\n            <label className=\"label required\" htmlFor=\"report-error-notes\">\n              {intl.formatMessage({ id: \"notes-label\" })}\n            </label>\n            <textarea\n              ref={textInput}\n              className=\"textarea\"\n              id=\"report-error-notes\"\n              rows=\"2\"\n              required\n            />\n          </section>\n          <footer className=\"modal-card-foot\">\n            <button type=\"submit\" className=\"button is-primary\">\n              {intl.formatMessage({ id: \"flag-resource-label\" })}\n            </button>\n          </footer>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nReportErrorModal.propTypes = {\n  reportErrorPath: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  onSuccess: PropTypes.func.isRequired,\n  onClose: PropTypes.func.isRequired,\n}\n\nexport default ReportErrorModal\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { useIntl } from \"gatsby-plugin-react-intl\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { OutboundLink } from \"gatsby-plugin-google-gtag\"\n\nimport { rtlLanguages } from \"../constants\"\n\nconst formatPhone = (phone) => {\n  const phoneStr = phone.replace(/\\D/gi, \"\")\n  return phoneStr[0] === \"1\" ? `+${phoneStr}` : `+1${phoneStr}`\n}\n\nconst ResourceRow = ({\n  name,\n  phone,\n  email,\n  link,\n  address,\n  hours,\n  what,\n  who,\n  languages,\n  qualifications,\n  description,\n  lastUpdated,\n  onFlag,\n  ...props\n}) => {\n  const intl = useIntl()\n  // Resolve description text for language (use default if not present)\n  const descriptionText =\n    intl.locale !== intl.defaultLocale && !!props[`description${intl.locale}`]\n      ? props[`description${intl.locale}`]\n      : description\n  const descDir =\n    !!props[`description${intl.locale}`] && rtlLanguages.includes(intl.locale)\n      ? `rtl`\n      : `ltr`\n\n  return (\n    <div className=\"resource-row columns is-multiline\">\n      <div className=\"column is-8\">\n        {(what || []).concat(who || []).length > 0 ? (\n          <div className=\"tag-row\">\n            {what && what.length > 0\n              ? what.map((t) => (\n                  <span key={t} className=\"tag\">\n                    {intl.formatMessage({ id: t })}\n                  </span>\n                ))\n              : ``}\n            {who && who.length > 0\n              ? who.map((t) => (\n                  <span key={t} className=\"tag is-teal\">\n                    {intl.formatMessage({ id: t })}\n                  </span>\n                ))\n              : ``}\n          </div>\n        ) : (\n          ``\n        )}\n        <h3 dir=\"ltr\">{name}</h3>\n        {descriptionText ? (\n          <div dir={descDir}>\n            {descriptionText\n              .trim()\n              .split(\"\\n\")\n              .map((line, idx) => (\n                <p key={idx}>{line}</p>\n              ))}\n          </div>\n        ) : (\n          ``\n        )}\n      </div>\n      <div className=\"column is-4 detail-column\">\n        {link ? (\n          <p className=\"has-link\">\n            <OutboundLink\n              href={\n                link.trim().substr(0, 4) === \"http\"\n                  ? link.trim()\n                  : `http://${link.trim()}`\n              }\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"website\"\n            >\n              <FontAwesomeIcon icon=\"external-link-alt\" />\n              &nbsp; <span className=\"visually-hidden\">{name}</span>{\" \"}\n              <span>{intl.formatMessage({ id: \"website\" })}</span>\n            </OutboundLink>\n          </p>\n        ) : (\n          ``\n        )}\n        {phone ? (\n          <p className=\"has-link\">\n            <OutboundLink href={`tel:${formatPhone(phone)}`}>\n              <FontAwesomeIcon icon=\"phone\" />\n              &nbsp; <span dir=\"ltr\">{phone}</span>\n            </OutboundLink>\n          </p>\n        ) : (\n          ``\n        )}\n        {email ? (\n          <p className=\"has-link\">\n            <OutboundLink href={`mailto:${email}`}>\n              <FontAwesomeIcon icon=\"envelope\" />\n              &nbsp; {email}\n            </OutboundLink>\n          </p>\n        ) : (\n          ``\n        )}\n        {address ? (\n          <p className=\"has-link\">\n            <OutboundLink\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              href={`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(\n                address\n              )}`}\n            >\n              <FontAwesomeIcon icon=\"map-marker-alt\" />\n              &nbsp; {address}\n            </OutboundLink>\n          </p>\n        ) : (\n          ``\n        )}\n        {hours ? (\n          <p>\n            <FontAwesomeIcon icon=\"calendar-alt\" />\n            &nbsp; {hours}\n          </p>\n        ) : (\n          ``\n        )}\n      </div>\n      <div className=\"column is-8 bottom-column\">\n        <div>\n          {languages && languages.length > 0 ? (\n            <p>\n              <FontAwesomeIcon icon=\"comments\" />\n              &nbsp;\n              {languages.map((l) => intl.formatMessage({ id: l })).join(\", \")}\n            </p>\n          ) : (\n            ``\n          )}\n          {qualifications && qualifications.includes(\"Regardless of status\") ? (\n            <p>\n              <FontAwesomeIcon icon=\"door-open\" />\n              &nbsp;\n              {intl.formatMessage({ id: \"regardless-of-status\" })}\n            </p>\n          ) : (\n            ``\n          )}\n          <p className=\"last-updated is-italic\">\n            {intl.formatMessage({ id: \"last-updated\" })}{\" \"}\n            {intl.formatDate(new Date(lastUpdated), {\n              year: \"numeric\",\n              month: \"long\",\n              day: \"numeric\",\n            })}\n          </p>\n        </div>\n      </div>\n      <div className=\"column is-4 bottom-column\">\n        <div>\n          <button\n            type=\"button\"\n            className=\"button is-text flag-resource\"\n            onClick={onFlag}\n          >\n            <FontAwesomeIcon icon=\"exclamation-circle\" />\n            &nbsp;{\" \"}\n            <span>{intl.formatMessage({ id: \"flag-resource-label\" })}</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nResourceRow.propTypes = {\n  name: PropTypes.string.isRequired,\n  phone: PropTypes.string,\n  email: PropTypes.string,\n  link: PropTypes.string,\n  address: PropTypes.string,\n  hours: PropTypes.string,\n  what: PropTypes.array,\n  who: PropTypes.array,\n  languages: PropTypes.array,\n  qualifications: PropTypes.array,\n  description: PropTypes.string,\n  lastUpdated: PropTypes.string.isRequired,\n  onFlag: PropTypes.func,\n}\n\nResourceRow.defaultProps = {\n  phone: ``,\n  email: ``,\n  link: ``,\n  address: ``,\n  hours: ``,\n  what: [],\n  who: [],\n  qualifications: [],\n  languages: [],\n  description: ``,\n  onFlag: () => {},\n}\n\nexport default ResourceRow\n","import React, { useState, useEffect } from \"react\"\nimport PropTypes from \"prop-types\"\n\nconst ToastMessage = ({ show, duration, onHide, children }) => {\n  const [visible, setVisible] = useState(false)\n  useEffect(() => {\n    setVisible(show)\n    if (show) {\n      setTimeout(() => setVisible(false), duration - 500)\n      setTimeout(onHide, duration)\n    }\n  }, [duration, onHide, show])\n\n  return show ? (\n    <div className={`toast-message ${visible ? `is-active` : ``}`}>\n      {children}\n    </div>\n  ) : (\n    ``\n  )\n}\n\nToastMessage.propTypes = {\n  show: PropTypes.bool,\n  duration: PropTypes.number,\n  onHide: PropTypes.func.isRequired,\n  children: PropTypes.node,\n}\n\nToastMessage.defaultProps = {\n  duration: 2500,\n  show: false,\n}\n\nexport default ToastMessage\n","import React, { useMemo, useEffect, useState } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { graphql } from \"gatsby\"\nimport { useIntl } from \"gatsby-plugin-react-intl\"\nimport * as pym from \"pym.js\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport FilterDescription from \"../components/filter-description\"\nimport ResourceRow from \"../components/resource-row\"\nimport ToastMessage from \"../components/toast-message\"\nimport ReportErrorModal from \"../components/report-error-modal\"\n\nimport {\n  getFiltersWithValues,\n  applyFilters,\n  loadQueryParamFilters,\n  sortResults,\n} from \"../utils\"\nimport { PAGE_SIZE } from \"../constants\"\n\nconst EmbedPage = ({\n  location,\n  data: {\n    site: {\n      siteMetadata: { reportErrorPath },\n    },\n    allAirtable: { edges },\n  },\n}) => {\n  const defaultFilters = {\n    search: ``,\n    zip: ``,\n    who: [],\n    what: [],\n    languages: [],\n  }\n  const [filters, setFilters] = useState(defaultFilters)\n  const allResults = useMemo(\n    () =>\n      edges\n        .map(({ node: { recordId, data } }) => ({\n          id: recordId,\n          ...data,\n        }))\n        .sort(sortResults),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  )\n  const results = useMemo(\n    () => applyFilters(getFiltersWithValues(filters), allResults),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [filters.search, filters.zip, filters.what, filters.who, filters.languages]\n  )\n  const [page, setPage] = useState(1)\n  const [flagId, setFlagId] = useState(``)\n  const [toast, setToast] = useState(``)\n  const intl = useIntl()\n\n  useEffect(() => {\n    const pymChild = new pym.Child({ polling: 500 })\n    pymChild.sendHeight()\n    // https://stackoverflow.com/a/59653180\n    const urlFilters = loadQueryParamFilters(location, defaultFilters)\n    if (Object.keys(getFiltersWithValues(urlFilters)).length) {\n      setFilters(urlFilters)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <Layout location={location} hide>\n      <SEO\n        title={intl.formatMessage({ id: \"meta-title\" })}\n        overrideTitle\n        lang={intl.locale}\n      />\n      {flagId && (\n        <ReportErrorModal\n          reportErrorPath={reportErrorPath}\n          id={flagId}\n          onSuccess={() =>\n            setToast(intl.formatMessage({ id: \"flag-resource-success\" }))\n          }\n          onClose={() => setFlagId(``)}\n        />\n      )}\n      <ToastMessage show={toast !== ``} onHide={() => setToast(``)}>\n        {toast}\n      </ToastMessage>\n      <main className=\"main filter-container\">\n        <div className=\"section filter-results-section\">\n          <FilterDescription\n            filters={getFiltersWithValues(filters)}\n            count={results.length}\n          />\n          <div className=\"filter-results\">\n            {results.slice(0, page * PAGE_SIZE).map((result) => (\n              <ResourceRow\n                key={result.id}\n                onFlag={() => setFlagId(result.id)}\n                {...result}\n              />\n            ))}\n          </div>\n          <div className=\"filter-results-footer\">\n            {results.length > PAGE_SIZE * page ? (\n              <button\n                type=\"button\"\n                className=\"button is-primary\"\n                onClick={() => setPage(page + 1)}\n              >\n                {intl.formatMessage({ id: \"load-more-results\" })}\n              </button>\n            ) : (\n              ``\n            )}\n          </div>\n        </div>\n      </main>\n    </Layout>\n  )\n}\n\nEmbedPage.propTypes = {\n  location: PropTypes.object.isRequired,\n  data: PropTypes.object.isRequired,\n}\n\nexport const query = graphql`\n  query {\n    site {\n      siteMetadata {\n        reportErrorPath\n      }\n    }\n    allAirtable {\n      edges {\n        node {\n          recordId\n          data {\n            name: Name\n            link: Link\n            phone: Phone\n            address: Address\n            zip: ZIP\n            description: Description\n            lastUpdated: Last_Updated\n          }\n        }\n      }\n    }\n  }\n`\n\nexport default EmbedPage\n"],"names":["MESSAGE_DELIMITER","lib","_raiseCustomEvent","eventName","event","document","createEvent","initEvent","dispatchEvent","_getParameterByName","name","results","RegExp","replace","exec","location","search","decodeURIComponent","_isSafeMessage","e","settings","xdomain","origin","match","data","_isSafeUrl","url","SAFE_URL_PATTERN","_makeMessage","id","messageType","message","join","_makeMessageRegex","_getNow","Date","now","getTime","_throttle","func","wait","options","context","args","result","timeout","previous","later","leading","apply","remaining","this","arguments","clearTimeout","trailing","setTimeout","_cleanAutoInitInstances","idx","autoInitInstances","length","instance","el","getElementsByTagName","contentWindow","splice","autoInit","doNotRaiseEvents","elements","querySelectorAll","element","setAttribute","Math","random","toString","substr","src","getAttribute","config","attribute","n","Number","isNaN","console","err","parent","Parent","push","key","getElementById","iframe","optionalparams","parenturlparam","parenturlvalue","window","href","trackscroll","scrollwait","messageRegex","messageHandlers","_constructIframe","width","offsetWidth","createElement","hash","hashIndex","indexOf","substring","encodeURIComponent","title","undefined","allowfullscreen","sandbox","firstChild","removeChild","appendChild","addEventListener","_onResize","_throttleOnScroll","sendWidth","sendViewportAndIFramePosition","bind","_onScroll","_fire","i","call","remove","removeEventListener","_processMessage","_onHeightMessage","height","parseInt","_onNavigateToMessage","_onScrollToChildPosMessage","totalOffset","getBoundingClientRect","top","pageYOffset","scrollTo","onMessage","callback","sendMessage","postMessage","iframeRect","payload","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","left","bottom","right","Child","parentWidth","parentTitle","parentUrl","renderCallback","polling","timerId","_onWidthMessage","sendHeight","offsetHeight","getParentPositionInfo","scrollParentTo","navigateParentTo","scrollParentToChildEl","topPos","scrollParentToChildPos","pos","_markWhetherEmbedded","onMarkedEmbeddedStatus","newClassForHtml","htmlElement","originalHtmlClasses","className","self","clearInterval","setInterval","_interopRequireDefault","require","exports","_extends2","_objectWithoutPropertiesLoose2","_react","_propTypes","_excluded","OutboundLink","default","forwardRef","_ref","ref","children","props","onClick","redirect","button","altKey","ctrlKey","metaKey","shiftKey","defaultPrevented","target","toLowerCase","gtag","event_category","event_label","transport_type","event_callback","propTypes","string","filters","count","intl","useIntl","filterText","Object","entries","filter","map","value","Array","isArray","formatMessage","reduce","acc","val","concat","params","rtlLanguages","locale","toLocaleString","formatNumber","messageId","reportErrorPath","onSuccess","onClose","modalRef","useRef","textInput","useEffect","escKeyListener","keyCode","docClickListener","current","contains","action","onSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","Resource","Notes","then","res","json","catch","error","type","htmlFor","rows","required","formatPhone","phone","phoneStr","ResourceRow","email","link","address","hours","what","who","languages","qualifications","description","lastUpdated","onFlag","descriptionText","defaultLocale","descDir","t","dir","trim","split","line","rel","icon","l","includes","formatDate","year","month","day","defaultProps","ToastMessage","show","duration","onHide","useState","visible","setVisible","site","siteMetadata","edges","allAirtable","defaultFilters","zip","setFilters","allResults","useMemo","node","recordId","sort","sortResults","applyFilters","getFiltersWithValues","page","setPage","flagId","setFlagId","toast","setToast","pym","urlFilters","loadQueryParamFilters","keys","hide","overrideTitle","lang","slice","PAGE_SIZE"],"sourceRoot":""}