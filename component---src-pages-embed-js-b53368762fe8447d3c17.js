/*! For license information please see component---src-pages-embed-js-b53368762fe8447d3c17.js.LICENSE.txt */
(self.webpackChunkreentry_resource_guide=self.webpackChunkreentry_resource_guide||[]).push([[145],{8251:function(e,t,n){var i,s;i=function(){var e="xPYMx",t={},n=function(e){var t=document.createEvent("Event");t.initEvent("pym:"+e,!0,!0),document.dispatchEvent(t)},i=function(e){var t=new RegExp("[\\?&]"+e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]")+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},s=function(e,t){if(("*"===t.xdomain||e.origin.match(new RegExp(t.xdomain+"$")))&&"string"==typeof e.data)return!0},a=function(e){var t=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/gi;if(e.match(t))return!0},r=function(t,n,i){return["pym",t,n,i].join(e)},o=function(t){return new RegExp("^"+["pym",t,"(\\S+)","(.*)"].join(e)+"$")},l=Date.now||function(){return(new Date).getTime()},c=function(e,t,n){var i,s,a,r=null,o=0;n||(n={});var c=function(){o=!1===n.leading?0:l(),r=null,a=e.apply(i,s),r||(i=s=null)};return function(){var d=l();o||!1!==n.leading||(o=d);var u=t-(d-o);return i=this,s=arguments,u<=0||u>t?(r&&(clearTimeout(r),r=null),o=d,a=e.apply(i,s),r||(i=s=null)):r||!1===n.trailing||(r=setTimeout(c,u)),a}},d=function(){for(var e=t.autoInitInstances.length-1;e>=0;e--){var n=t.autoInitInstances[e];n.el.getElementsByTagName("iframe").length&&n.el.getElementsByTagName("iframe")[0].contentWindow||t.autoInitInstances.splice(e,1)}};return t.autoInitInstances=[],t.autoInit=function(e){var i=document.querySelectorAll("[data-pym-src]:not([data-pym-auto-initialized])"),s=i.length;d();for(var a=0;a<s;++a){var r=i[a];r.setAttribute("data-pym-auto-initialized",""),""===r.id&&(r.id="pym-"+a+"-"+Math.random().toString(36).substr(2,5));var o=r.getAttribute("data-pym-src"),l={xdomain:"string",title:"string",name:"string",id:"string",sandbox:"string",allowfullscreen:"boolean",parenturlparam:"string",parenturlvalue:"string",optionalparams:"boolean",trackscroll:"boolean",scrollwait:"number"},c={};for(var u in l)if(null!==r.getAttribute("data-pym-"+u))switch(l[u]){case"boolean":c[u]=!("false"===r.getAttribute("data-pym-"+u));break;case"string":c[u]=r.getAttribute("data-pym-"+u);break;case"number":var m=Number(r.getAttribute("data-pym-"+u));isNaN(m)||(c[u]=m);break;default:console.err("unrecognized attribute type")}var h=new t.Parent(r.id,o,c);t.autoInitInstances.push(h)}return e||n("pym-initialized"),t.autoInitInstances},t.Parent=function(e,t,n){for(var i in this.id=e,this.url=t,this.el=document.getElementById(e),this.iframe=null,this.settings={xdomain:"*",optionalparams:!0,parenturlparam:"parentUrl",parenturlvalue:window.location.href,trackscroll:!1,scrollwait:100},this.messageRegex=o(this.id),this.messageHandlers={},n=n||{},this._constructIframe=function(){var e=this.el.offsetWidth.toString();this.iframe=document.createElement("iframe");var t="",n=this.url.indexOf("#");for(n>-1&&(t=this.url.substring(n,this.url.length),this.url=this.url.substring(0,n)),this.url.indexOf("?")<0?this.url+="?":this.url+="&",this.iframe.src=this.url+"initialWidth="+e+"&childId="+this.id,this.settings.optionalparams&&(this.iframe.src+="&parentTitle="+encodeURIComponent(document.title),this.iframe.src+="&"+this.settings.parenturlparam+"="+encodeURIComponent(this.settings.parenturlvalue)),this.iframe.src+=t,this.iframe.setAttribute("width","100%"),this.iframe.setAttribute("scrolling","no"),this.iframe.setAttribute("marginheight","0"),this.iframe.setAttribute("frameborder","0"),this.settings.title&&this.iframe.setAttribute("title",this.settings.title),void 0!==this.settings.allowfullscreen&&!1!==this.settings.allowfullscreen&&this.iframe.setAttribute("allowfullscreen",""),void 0!==this.settings.sandbox&&"string"==typeof this.settings.sandbox&&this.iframe.setAttribute("sandbox",this.settings.sandbox),this.settings.id&&(document.getElementById(this.settings.id)||this.iframe.setAttribute("id",this.settings.id)),this.settings.name&&this.iframe.setAttribute("name",this.settings.name);this.el.firstChild;)this.el.removeChild(this.el.firstChild);this.el.appendChild(this.iframe),window.addEventListener("resize",this._onResize),this.settings.trackscroll&&window.addEventListener("scroll",this._throttleOnScroll)},this._onResize=function(){this.sendWidth(),this.settings.trackscroll&&this.sendViewportAndIFramePosition()}.bind(this),this._onScroll=function(){this.sendViewportAndIFramePosition()}.bind(this),this._fire=function(e,t){if(e in this.messageHandlers)for(var n=0;n<this.messageHandlers[e].length;n++)this.messageHandlers[e][n].call(this,t)},this.remove=function(){window.removeEventListener("message",this._processMessage),window.removeEventListener("resize",this._onResize),this.el.removeChild(this.iframe),d()},this._processMessage=function(e){if(s(e,this.settings)&&"string"==typeof e.data){var t=e.data.match(this.messageRegex);if(!t||3!==t.length)return!1;var n=t[1],i=t[2];this._fire(n,i)}}.bind(this),this._onHeightMessage=function(e){var t=parseInt(e);this.iframe.setAttribute("height",t+"px")},this._onNavigateToMessage=function(e){a(e)&&(document.location.href=e)},this._onScrollToChildPosMessage=function(e){var t=document.getElementById(this.id).getBoundingClientRect().top+window.pageYOffset+parseInt(e);window.scrollTo(0,t)},this.onMessage=function(e,t){e in this.messageHandlers||(this.messageHandlers[e]=[]),this.messageHandlers[e].push(t)},this.sendMessage=function(e,t){this.el.getElementsByTagName("iframe").length&&(this.el.getElementsByTagName("iframe")[0].contentWindow?this.el.getElementsByTagName("iframe")[0].contentWindow.postMessage(r(this.id,e,t),"*"):this.remove())},this.sendWidth=function(){var e=this.el.offsetWidth.toString();this.sendMessage("width",e)},this.sendViewportAndIFramePosition=function(){var e=this.iframe.getBoundingClientRect(),t=(window.innerWidth||document.documentElement.clientWidth)+" "+(window.innerHeight||document.documentElement.clientHeight);t+=" "+e.top+" "+e.left,t+=" "+e.bottom+" "+e.right,this.sendMessage("viewport-iframe-position",t)},n)this.settings[i]=n[i];return this._throttleOnScroll=c(this._onScroll.bind(this),this.settings.scrollwait),this.onMessage("height",this._onHeightMessage),this.onMessage("navigateTo",this._onNavigateToMessage),this.onMessage("scrollToChildPos",this._onScrollToChildPosMessage),this.onMessage("parentPositionInfo",this.sendViewportAndIFramePosition),window.addEventListener("message",this._processMessage,!1),this._constructIframe(),this},t.Child=function(t){this.parentWidth=null,this.id=null,this.parentTitle=null,this.parentUrl=null,this.settings={renderCallback:null,xdomain:"*",polling:0,parenturlparam:"parentUrl"},this.timerId=null,this.messageRegex=null,this.messageHandlers={},t=t||{},this.onMessage=function(e,t){e in this.messageHandlers||(this.messageHandlers[e]=[]),this.messageHandlers[e].push(t)},this._fire=function(e,t){if(e in this.messageHandlers)for(var n=0;n<this.messageHandlers[e].length;n++)this.messageHandlers[e][n].call(this,t)},this._processMessage=function(e){if(s(e,this.settings)&&"string"==typeof e.data){var t=e.data.match(this.messageRegex);if(t&&3===t.length){var n=t[1],i=t[2];this._fire(n,i)}}}.bind(this),this._onWidthMessage=function(e){var t=parseInt(e);t!==this.parentWidth&&(this.parentWidth=t,this.settings.renderCallback&&this.settings.renderCallback(t),this.sendHeight())},this.sendMessage=function(e,t){window.parent.postMessage(r(this.id,e,t),"*")},this.sendHeight=function(){var e=document.getElementsByTagName("body")[0].offsetHeight.toString();return this.sendMessage("height",e),e}.bind(this),this.getParentPositionInfo=function(){this.sendMessage("parentPositionInfo")},this.scrollParentTo=function(e){this.sendMessage("navigateTo","#"+e)},this.navigateParentTo=function(e){this.sendMessage("navigateTo",e)},this.scrollParentToChildEl=function(e){var t=document.getElementById(e).getBoundingClientRect().top+window.pageYOffset;this.scrollParentToChildPos(t)},this.scrollParentToChildPos=function(e){this.sendMessage("scrollToChildPos",e.toString())};var a=function(e){var t,i=document.getElementsByTagName("html")[0],s=i.className;try{t=window.self!==window.top?"embedded":"not-embedded"}catch(a){t="embedded"}s.indexOf(t)<0&&(i.className=s?s+" "+t:t,e&&e(t),n("marked-embedded"))};for(var o in this.remove=function(){window.removeEventListener("message",this._processMessage),this.timerId&&clearInterval(this.timerId)},t)this.settings[o]=t[o];this.id=i("childId")||t.id,this.messageRegex=new RegExp("^pym"+e+this.id+e+"(\\S+)"+e+"(.*)$");var l=parseInt(i("initialWidth"));return this.parentUrl=i(this.settings.parenturlparam),this.parentTitle=i("parentTitle"),this.onMessage("width",this._onWidthMessage),window.addEventListener("message",this._processMessage,!1),this.settings.renderCallback&&this.settings.renderCallback(l),this.sendHeight(),this.settings.polling&&(this.timerId=window.setInterval(this.sendHeight,this.settings.polling)),a(t.onMarkedEmbeddedStatus),this},"undefined"!=typeof document&&t.autoInit(!0),t},void 0===(s="function"==typeof i?i.call(t,n,t,e):i)||(e.exports=s)},757:function(e,t,n){"use strict";var i=n(5318);t.M=void 0;var s=i(n(7154)),a=i(n(7316)),r=i(n(7294)),o=i(n(5697)),l=["children"],c=r.default.forwardRef((function(e,t){var n=e.children,i=(0,a.default)(e,l);return r.default.createElement("a",(0,s.default)({ref:t},i,{onClick:function(e){"function"==typeof i.onClick&&i.onClick(e);var t=!0;return(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||e.defaultPrevented)&&(t=!1),i.target&&"_self"!==i.target.toLowerCase()&&(t=!1),window.gtag?window.gtag("event","click",{event_category:"outbound",event_label:i.href,transport_type:t?"beacon":"",event_callback:function(){t&&(document.location=i.href)}}):t&&(document.location=i.href),!1}}),n)}));t.M=c,c.propTypes={href:o.default.string,target:o.default.string,onClick:o.default.func}},6814:function(e,t,n){"use strict";var i=n(7294),s=n(9122),a=n(828);t.Z=function(e){var t=e.filters,n=e.count,r=(0,s.useIntl)(),o=Object.entries(t).filter((function(e){var t=e[0];e[1];return"coords"!==t})).map((function(e){var t=e[0],n=e[1];return"search"===t?'"'+n+'"':(Array.isArray(n)?n:[n]).map((function(e){return r.formatMessage({id:e})}))})).reduce((function(e,t){return e.concat(t)}),[]).join(", "),l={filters:o,count:a.Dn.includes(r.locale)?n.toLocaleString("en"):r.formatNumber(n)},c="filter-description-filters";return""===o?c="filter-description":0===n?c="filter-description-no-results":1===n&&(c="filter-description-one-result"),i.createElement("div",{className:"filter-description"},i.createElement("h2",{"aria-live":"polite"},r.formatMessage({id:c},l)))}},3359:function(e,t,n){"use strict";var i=n(7294),s=n(9122);t.Z=function(e){var t=e.reportErrorPath,n=e.id,a=e.onSuccess,r=e.onClose,o=(0,s.useIntl)(),l=(0,i.useRef)(),c=(0,i.useRef)();return(0,i.useEffect)((function(){var e=function(e){27===e.keyCode&&r()},t=function(e){l&&!l.current.contains(e.target)&&r()};return document.addEventListener("keyup",e),document.addEventListener("click",t),function(){document.removeEventListener("keyup",e),document.removeEventListener("click",t)}}),[]),i.createElement("div",{className:"modal is-active"},i.createElement("div",{className:"modal-background"}),i.createElement("div",{className:"modal-card",ref:l},i.createElement("form",{id:"report-error-form",name:"report-error",action:"",onSubmit:function(e){e.preventDefault(),fetch(""+t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Resource:[n],Notes:c.current.value})}).then((function(e){return e.json()})).then((function(){r(),a()})).catch((function(e){r(),console.error(e)}))}},i.createElement("header",{className:"modal-card-head"},i.createElement("h2",{className:"modal-card-title"},o.formatMessage({id:"flag-resource-label"})),i.createElement("button",{type:"button",className:"delete is-medium","aria-label":o.formatMessage({id:"close"}),onClick:r})),i.createElement("section",{className:"modal-card-body"},i.createElement("label",{className:"label required",htmlFor:"report-error-notes"},o.formatMessage({id:"notes-label"})),i.createElement("textarea",{ref:c,className:"textarea",id:"report-error-notes",rows:"2",required:!0})),i.createElement("footer",{className:"modal-card-foot"},i.createElement("button",{type:"submit",className:"button is-primary"},o.formatMessage({id:"flag-resource-label"}))))))}},9476:function(e,t,n){"use strict";var i=n(3366),s=n(7294),a=n(9122),r=n(7606),o=n(757),l=n(828),c=["name","phone","email","link","address","hours","what","who","languages","qualifications","description","lastUpdated","onFlag"],d=function(e){var t=e.replace(/\D/gi,"");return"1"===t[0]?"+"+t:"+1"+t},u=function(e){var t=e.name,n=e.phone,u=e.email,m=e.link,h=e.address,f=e.hours,g=e.what,p=e.who,v=e.languages,E=e.qualifications,b=e.description,w=e.lastUpdated,y=e.onFlag,M=(0,i.Z)(e,c),N=(0,a.useIntl)(),I=N.locale!==N.defaultLocale&&M["description"+N.locale]?M["description"+N.locale]:b,k=M["description"+N.locale]&&l.Dn.includes(N.locale)?"rtl":"ltr";return s.createElement("div",{className:"resource-row columns is-multiline"},s.createElement("div",{className:"column is-8"},(g||[]).concat(p||[]).length>0?s.createElement("div",{className:"tag-row"},g&&g.length>0?g.map((function(e){return s.createElement("span",{key:e,className:"tag"},N.formatMessage({id:e}))})):"",p&&p.length>0?p.map((function(e){return s.createElement("span",{key:e,className:"tag is-teal"},N.formatMessage({id:e}))})):""):"",s.createElement("h3",{dir:"ltr"},t),I?s.createElement("div",{dir:k},I.trim().split("\n").map((function(e,t){return s.createElement("p",{key:t},e)}))):""),s.createElement("div",{className:"column is-4 detail-column"},m?s.createElement("p",{className:"has-link"},s.createElement(o.M,{href:"http"===m.trim().substr(0,4)?m.trim():"http://"+m.trim(),target:"_blank",rel:"noopener noreferrer",className:"website"},s.createElement(r.G,{icon:"external-link-alt"}),"  ",s.createElement("span",{className:"visually-hidden"},t)," ",s.createElement("span",null,N.formatMessage({id:"website"})))):"",n?s.createElement("p",{className:"has-link"},s.createElement(o.M,{href:"tel:"+d(n)},s.createElement(r.G,{icon:"phone"}),"  ",s.createElement("span",{dir:"ltr"},n))):"",u?s.createElement("p",{className:"has-link"},s.createElement(o.M,{href:"mailto:"+u},s.createElement(r.G,{icon:"envelope"}),"  ",u)):"",h?s.createElement("p",{className:"has-link"},s.createElement(o.M,{target:"_blank",rel:"noopener noreferrer",href:"https://www.google.com/maps/dir/?api=1&destination="+encodeURIComponent(h)},s.createElement(r.G,{icon:"map-marker-alt"}),"  ",h)):"",f?s.createElement("p",null,s.createElement(r.G,{icon:"calendar-alt"}),"  ",f):""),s.createElement("div",{className:"column is-8 bottom-column"},s.createElement("div",null,v&&v.length>0?s.createElement("p",null,s.createElement(r.G,{icon:"comments"})," ",v.map((function(e){return N.formatMessage({id:e})})).join(", ")):"",E&&E.includes("Regardless of status")?s.createElement("p",null,s.createElement(r.G,{icon:"door-open"})," ",N.formatMessage({id:"regardless-of-status"})):"",s.createElement("p",{className:"last-updated is-italic"},N.formatMessage({id:"last-updated"})," ",N.formatDate(new Date(w),{year:"numeric",month:"long",day:"numeric"})))),s.createElement("div",{className:"column is-4 bottom-column"},s.createElement("div",null,s.createElement("button",{type:"button",className:"button is-text flag-resource",onClick:y},s.createElement(r.G,{icon:"exclamation-circle"})," "," ",s.createElement("span",null,N.formatMessage({id:"flag-resource-label"}))))))};u.defaultProps={phone:"",email:"",link:"",address:"",hours:"",what:[],who:[],qualifications:[],languages:[],description:"",onFlag:function(){}},t.Z=u},4079:function(e,t,n){"use strict";var i=n(7294),s=function(e){var t=e.show,n=e.duration,s=e.onHide,a=e.children,r=(0,i.useState)(!1),o=r[0],l=r[1];return(0,i.useEffect)((function(){l(t),t&&(setTimeout((function(){return l(!1)}),n-500),setTimeout(s,n))}),[n,s,t]),t?i.createElement("div",{className:"toast-message "+(o?"is-active":"")},a):""};s.defaultProps={duration:2500,show:!1},t.Z=s},8065:function(e,t,n){"use strict";n.r(t);var i=n(7294),s=n(9122),a=n(8251),r=n(1851),o=n(262),l=n(6814),c=n(9476),d=n(4079),u=n(3359),m=n(418),h=n(828);t.default=function(e){var t=e.location,n=e.data,f=n.site.siteMetadata.reportErrorPath,g=n.allAirtable.edges,p={search:"",zip:"",who:[],what:[],languages:[]},v=(0,i.useState)(p),E=v[0],b=v[1],w=(0,i.useMemo)((function(){return g.map((function(e){var t=e.node,n=t.recordId,i=t.data;return Object.assign({id:n},i)})).sort(m.uj)}),[]),y=(0,i.useMemo)((function(){return(0,m.O)((0,m.rt)(E),w)}),[E.search,E.zip,E.what,E.who,E.languages]),M=(0,i.useState)(1),N=M[0],I=M[1],k=(0,i.useState)(""),C=k[0],_=k[1],T=(0,i.useState)(""),x=T[0],P=T[1],S=(0,s.useIntl)();return(0,i.useEffect)((function(){new a.Child({polling:500}).sendHeight();var e=(0,m.Sb)(t,p);Object.keys((0,m.rt)(e)).length&&b(e)}),[]),i.createElement(r.Z,{location:t,hide:!0},i.createElement(o.Z,{title:S.formatMessage({id:"meta-title"}),overrideTitle:!0,lang:S.locale}),C&&i.createElement(u.Z,{reportErrorPath:f,id:C,onSuccess:function(){return P(S.formatMessage({id:"flag-resource-success"}))},onClose:function(){return _("")}}),i.createElement(d.Z,{show:""!==x,onHide:function(){return P("")}},x),i.createElement("main",{className:"main filter-container"},i.createElement("div",{className:"section filter-results-section"},i.createElement(l.Z,{filters:(0,m.rt)(E),count:y.length}),i.createElement("div",{className:"filter-results"},y.slice(0,N*h.IV).map((function(e){return i.createElement(c.Z,Object.assign({key:e.id,onFlag:function(){return _(e.id)}},e))}))),i.createElement("div",{className:"filter-results-footer"},y.length>h.IV*N?i.createElement("button",{type:"button",className:"button is-primary",onClick:function(){return I(N+1)}},S.formatMessage({id:"load-more-results"})):""))))}}}]);
//# sourceMappingURL=component---src-pages-embed-js-b53368762fe8447d3c17.js.map